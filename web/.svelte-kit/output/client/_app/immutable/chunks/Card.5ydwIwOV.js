import{s as Te,c as qe,d as fe,n as de}from"./scheduler.Dn1Z_7GV.js";import{S as xe,i as ze,e as d,s as j,n as $,a as u,j as p,c as D,d as c,g as le,o as ee,b as r,f as I,k as f,p as ce,B as we,r as te,u as Ne,A as Ve}from"./index.DBk614ox.js";import{e as ke,f as ye}from"./index.vOvnMlyY.js";const Pe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ee(a,e,l){const t=a.slice();return t[7]=e[l],t}function Ae(a){let e,l;return{c(){e=d("img"),this.h()},l(t){e=u(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){r(e,"class","object-cover w-full h-full"),fe(e.src,l="https://fakeimg.pl/300x500/323232/ffffff?text=No+poster&font=bebas")||r(e,"src",l),r(e,"alt","poster")},m(t,s){I(t,e,s)},p:de,d(t){t&&c(e)}}}function He(a){let e,l;return{c(){e=d("img"),this.h()},l(t){e=u(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){r(e,"class","object-cover w-full h-full"),fe(e.src,l="https://image.tmdb.org/t/p/w400"+a[1].poster_path)||r(e,"src",l),r(e,"alt","poster")},m(t,s){I(t,e,s)},p(t,s){s&2&&!fe(e.src,l="https://image.tmdb.org/t/p/w400"+t[1].poster_path)&&r(e,"src",l)},d(t){t&&c(e)}}}function je(a){let e,l="+18";return{c(){e=d("div"),e.textContent=l,this.h()},l(t){e=u(t,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-3hnjsx"&&(e.textContent=l),this.h()},h(){r(e,"class","cursor-default absolute top-5 right-5 z-10 badge variant-filled text-[1em] !text-white !bg-rose-500")},m(t,s){I(t,e,s)},d(t){t&&c(e)}}}function De(a){let e,l=a[1].genre_strings.length!==0&&Ie(a);return{c(){l&&l.c(),e=te()},l(t){l&&l.l(t),e=te()},m(t,s){l&&l.m(t,s),I(t,e,s)},p(t,s){t[1].genre_strings.length!==0?l?l.p(t,s):(l=Ie(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&c(e),l&&l.d(t)}}}function Ie(a){let e,l=ke(a[1].genre_strings),t=[];for(let s=0;s<l.length;s+=1)t[s]=Ce(Ee(a,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=te()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);e=te()},m(s,i){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(s,i);I(s,e,i)},p(s,i){if(i&2){l=ke(s[1].genre_strings);let n;for(n=0;n<l.length;n+=1){const _=Ee(s,l,n);t[n]?t[n].p(_,i):(t[n]=Ce(_),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(s){s&&c(e),Ne(t,s)}}}function Ce(a){let e,l,t=a[7]+"",s,i,n;return{c(){e=d("div"),l=d("a"),s=$(t),n=j(),this.h()},l(_){e=u(_,"DIV",{class:!0});var h=p(e);l=u(h,"A",{class:!0,href:!0});var w=p(l);s=ee(w,t),w.forEach(c),n=D(h),h.forEach(c),this.h()},h(){r(l,"class","hover:text-primary-500 transition"),r(l,"href",i="/"+a[7]),r(e,"class","pr-2 truncate w-fit")},m(_,h){I(_,e,h),f(e,l),f(l,s),f(e,n)},p(_,h){h&2&&t!==(t=_[7]+"")&&ce(s,t),h&2&&i!==(i="/"+_[7])&&r(l,"href",i)},d(_){_&&c(e)}}}function Me(a){let e,l="Додати до плейлісту",t,s;return{c(){e=d("button"),e.textContent=l,this.h()},l(i){e=u(i,"BUTTON",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-u4rdgx"&&(e.textContent=l),this.h()},h(){r(e,"class","normal-case svelte-zlqj1m")},m(i,n){I(i,e,n),t||(s=Ve(e,"click",a[5]),t=!0)},p:de,d(i){i&&c(e),t=!1,s()}}}function Be(a){let e,l="Видалити",t,s;return{c(){e=d("button"),e.textContent=l,this.h()},l(i){e=u(i,"BUTTON",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1jmfeyh"&&(e.textContent=l),this.h()},h(){r(e,"class","saved__card normal-case svelte-zlqj1m")},m(i,n){I(i,e,n),t||(s=Ve(e,"click",a[4]),t=!0)},p:de,d(i){i&&c(e),t=!1,s()}}}function Le(a){let e,l,t,s,i,n,_,h,w,v,C='<img src="../../sparkle.png" alt=""/>',x,V,A,L=a[1].vote_average.toFixed(1)+"",S,se,H,ie,ae,M,O=a[1].title+"",F,re,z,G,ne,T,P,oe,N,U,q,E;function ue(o,b){return o[1].poster_path!==""?He:Ae}let R=ue(a),k=R(a),g=a[1].adult&&je(),m=a[1].genre_strings!==null&&De(a);function he(o,b){return o[0]?Be:Me}let J=he(a),y=J(a);return{c(){e=d("div"),l=d("div"),t=d("div"),s=d("a"),i=d("div"),k.c(),n=j(),g&&g.c(),_=j(),h=d("div"),w=d("div"),v=d("div"),v.innerHTML=C,x=j(),V=d("div"),A=d("div"),S=$(L),se=j(),H=d("div"),ie=$(a[3]),ae=j(),M=d("h3"),F=$(O),re=j(),z=d("div"),m&&m.c(),ne=j(),T=d("div"),P=d("hr"),oe=j(),N=d("div"),y.c(),this.h()},l(o){e=u(o,"DIV",{id:!0,class:!0});var b=p(e);l=u(b,"DIV",{class:!0});var K=p(l);t=u(K,"DIV",{});var ve=p(t);s=u(ve,"A",{"data-sveltekit-reload":!0,href:!0});var Q=p(s);i=u(Q,"DIV",{id:!0,class:!0});var W=p(i);k.l(W),n=D(W),g&&g.l(W),W.forEach(c),_=D(Q),h=u(Q,"DIV",{class:!0});var B=p(h);w=u(B,"DIV",{class:!0});var X=p(w);v=u(X,"DIV",{class:!0,"data-svelte-h":!0}),le(v)!=="svelte-1grg9sw"&&(v.innerHTML=C),x=D(X),V=u(X,"DIV",{class:!0});var Y=p(V);A=u(Y,"DIV",{class:!0});var _e=p(A);S=ee(_e,L),_e.forEach(c),se=D(Y),H=u(Y,"DIV",{class:!0});var me=p(H);ie=ee(me,a[3]),me.forEach(c),Y.forEach(c),X.forEach(c),ae=D(B),M=u(B,"H3",{class:!0});var pe=p(M);F=ee(pe,O),pe.forEach(c),re=D(B),z=u(B,"DIV",{class:!0});var ge=p(z);m&&m.l(ge),ge.forEach(c),B.forEach(c),Q.forEach(c),ve.forEach(c),ne=D(K),T=u(K,"DIV",{class:!0});var Z=p(T);P=u(Z,"HR",{class:!0}),oe=D(Z),N=u(Z,"DIV",{class:!0});var be=p(N);y.l(be),be.forEach(c),Z.forEach(c),K.forEach(c),b.forEach(c),this.h()},h(){r(i,"id","cardPoster"),r(i,"class","relative overflow-hidden h-[32rem] flex justify-center items-center svelte-zlqj1m"),r(v,"class","w-4 h-4 mr-1"),r(A,"class","w-fit hover:text-primary-500 transition"),r(H,"class","w-fit hover:text-primary-500 transition"),r(V,"class","flex justify-between w-full"),r(w,"class","w-full flex items-center font-medium"),r(M,"class","w-fit hover:text-primary-500 transition"),r(z,"class","flex flex-wrap"),r(h,"class","p-4"),r(s,"data-sveltekit-reload",""),r(s,"href",G="/movie/"+a[1].id),r(P,"class","opacity-50 mt-auto"),r(N,"class","my__card card-footer svelte-zlqj1m"),r(T,"class","overflow-hidden"),r(l,"class","h-full overflow-hidden flex flex-col justify-between"),r(e,"id","myCard"),r(e,"class",U="my-4 card "+a[2]+" card-hover overflow-hidden svelte-zlqj1m")},m(o,b){I(o,e,b),f(e,l),f(l,t),f(t,s),f(s,i),k.m(i,null),f(i,n),g&&g.m(i,null),f(s,_),f(s,h),f(h,w),f(w,v),f(w,x),f(w,V),f(V,A),f(A,S),f(V,se),f(V,H),f(H,ie),f(h,ae),f(h,M),f(M,F),f(h,re),f(h,z),m&&m.m(z,null),f(l,ne),f(l,T),f(T,P),f(T,oe),f(T,N),y.m(N,null),E=!0},p(o,[b]){R===(R=ue(o))&&k?k.p(o,b):(k.d(1),k=R(o),k&&(k.c(),k.m(i,n))),o[1].adult?g||(g=je(),g.c(),g.m(i,null)):g&&(g.d(1),g=null),(!E||b&2)&&L!==(L=o[1].vote_average.toFixed(1)+"")&&ce(S,L),(!E||b&2)&&O!==(O=o[1].title+"")&&ce(F,O),o[1].genre_strings!==null?m?m.p(o,b):(m=De(o),m.c(),m.m(z,null)):m&&(m.d(1),m=null),(!E||b&2&&G!==(G="/movie/"+o[1].id))&&r(s,"href",G),J===(J=he(o))&&y?y.p(o,b):(y.d(1),y=J(o),y&&(y.c(),y.m(N,null))),(!E||b&4&&U!==(U="my-4 card "+o[2]+" card-hover overflow-hidden svelte-zlqj1m"))&&r(e,"class",U)},i(o){E||(o&&qe(()=>{E&&(q||(q=we(e,ye,{duration:200},!0)),q.run(1))}),E=!0)},o(o){o&&(q||(q=we(e,ye,{duration:200},!1)),q.run(0)),E=!1},d(o){o&&c(e),k.d(),g&&g.d(),m&&m.d(),y.d(),o&&q&&q.end()}}}function Oe(a,e,l){let{movie:t={id:0,adult:!1,poster_path:"https://fakeimg.pl/300x500/323232/ffffff?text=No+poster&font=bebas",title:"Назва",overview:"overview",genre_ids:[1,1,1],genre_strings:["none","none","none"],release_date:"never",original_title:"title",original_language:"en",popularity:1,vote_average:1.1,vote_count:1}}=e,{saved:s=!1}=e,{width:i="w-[22.1rem]"}=e;const _=`${t.release_date.split("-")[0]}`;async function h(){const v="http://192.168.68.111:3001/api/v1/r/watchlist/"+t.id,C=await fetch(v,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(C.ok){const x=await C.json();console.log(x),l(0,s=!1)}}async function w(){const v="http://192.168.68.111:3001/api/v1/s/watchlist/"+t.id,C=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"}});if(C.ok){const x=await C.json();console.log(x),l(0,s=!0)}}return a.$$set=v=>{"movie"in v&&l(1,t=v.movie),"saved"in v&&l(0,s=v.saved),"width"in v&&l(2,i=v.width)},[s,t,i,_,h,w]}class Ue extends xe{constructor(e){super(),ze(this,e,Oe,Le,Te,{movie:1,saved:0,width:2})}}export{Ue as C,Pe as g};
